@model IEnumerable<VonderkWEB.Models.Work>
@{
    ViewBag.Title = "AdminIndex";
}

<div class="content">

    <h2>Index</h2>


    <p>
        <span class="crear-nuevo-producto">
            @Html.ActionLink("Crear Novedad", "Create")
        </span>
    </p>
    <table class="table">
        <tr>
            <th>
                Nombre
            </th>
            <th>
                Descripcion
            </th>
            <th>
                Imagen
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {


            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.Raw(System.Web.HttpUtility.HtmlDecode(item.Description))
                  
                </td>
                <td>
                    @{
                        var p = item.WorkAssets.Where(x => x.AssetType == "IMG").OrderBy(d => d.SortOrder).FirstOrDefault();
                        if (p != null)
                        {
                            <img src="~/Images/Works/@item.WorkID/@p.FileName" alt="Photo" width="100" height="100" />
                        }
                    }
                   
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.WorkID }) |
                    @Html.ActionLink("Details", "Details", new { id = item.WorkID }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.WorkID })
                </td>
            </tr>
        }

    </table>

</div>


